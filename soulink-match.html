<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Soulink Match Results</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg-gradient-to-br from-purple-50 to-pink-100 text-gray-800 font-sans">
  <header class="p-4 bg-white shadow text-center">
    <h1 class="text-2xl font-bold">🔍 Your Best Matches</h1>
  </header>

  <main class="p-6 max-w-2xl mx-auto">
    <p class="mb-4">Below are your top potential friends or partners based on Soulprint compatibility:</p>
    <div id="matchResults" class="space-y-4"></div>
  </main>

  <script type="module">
    // Paprasti testiniai duomenys – vėliau bus iš Firestore
    const currentUser = JSON.parse(localStorage.getItem("soulResults")) || {};

    const partners = [
      { name: "Alex", birthdate: "1990-06-15", loveLanguage: "Quality Time", relationshipType: "Both" },
      { name: "Jamie", birthdate: "1985-11-20", loveLanguage: "Physical Touch", relationshipType: "Friendship" },
      { name: "Taylor", birthdate: "1995-01-05", loveLanguage: "Words of Affirmation", relationshipType: "Romantic" }
    ];

    function calculateCompatibility(user, partner) {
      let score = 0;
      if (user.loveLanguage === partner.loveLanguage) score += 40;
      if (user.relationshipType === partner.relationshipType) score += 30;
      if (user.birthdate && partner.birthdate) score += 30;
      return Math.min(100, score);
    }

    const container = document.getElementById("matchResults");

    if (!currentUser.name) {
      container.innerHTML = "<p class='text-red-600'>❌ Please complete the quiz first.</p>";
    } else {
      const results = partners.map(partner => {
        const score = calculateCompatibility(currentUser, partner);
        return `
          <div class="p-4 border rounded-md shadow bg-white">
            <p><strong>🧑 Name:</strong> ${partner.name}</p>
            <p><strong>🎂 Birthdate:</strong> ${partner.birthdate}</p>
            <p><strong>💖 Love Language:</strong> ${partner.loveLanguage}</p>
            <p><strong>🤝 Looking For:</strong> ${partner.relationshipType}</p>
            <p class="mt-2 text-purple-700 font-semibold">✨ Compatibility Score: ${score}%</p>
          </div>
        `;
      }).join("");

      container.innerHTML = results;
    }
  </script>
</body>
</html>