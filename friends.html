<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Friendship Matches - Soulink</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="bg-gradient-to-br from-green-50 to-blue-100 text-gray-800 font-sans">
  <header class="p-4 bg-white shadow text-center sticky top-0 z-10">
    <h1 class="text-2xl font-bold">🧑‍🤝‍🧑 Friendship Compatibility</h1>
    <p class="text-sm text-gray-500">Based on your soulprint & interests</p>
  </header>

  <main class="p-6 max-w-2xl mx-auto space-y-4" id="friendMatches">
    <p class="text-center">🔄 Loading your friendship matches...</p>
  </main>

  <script type="module">
    const container = document.getElementById("friendMatches");
    container.innerHTML = "";

    const user = JSON.parse(localStorage.getItem("soulResults"));

    if (!user) {
      container.innerHTML = "<p class='text-center text-red-600'>❌ No data found. Please take the quiz first.</p>";
    } else {
      // Simuliuojame kelis kitus naudotojus (demo duomenys)
      const otherUsers = [
        {
          name: "Alex",
          birthdate: "1991-03-10",
          loveLanguage: "Words of Affirmation",
          relationshipType: "Friendship",
          values: "Adventure, Honesty",
          interests: "Books, Hiking"
        },
        {
          name: "Maya",
          birthdate: "1989-07-22",
          loveLanguage: "Quality Time",
          relationshipType: "Both",
          values: "Creativity, Loyalty",
          interests: "Music, Art"
        },
        {
          name: "Leo",
          birthdate: "1995-11-03",
          loveLanguage: "Acts of Service",
          relationshipType: "Romantic",
          values: "Growth, Humor",
          interests: "Tech, Travel"
        }
      ];

      function calculateFriendScore(userA, userB) {
        let score = 0;
        if (userA.loveLanguage === userB.loveLanguage) score += 30;
        if (userB.relationshipType === "Friendship" || userB.relationshipType === "Both") score += 30;
        score += Math.floor(Math.random() * 41); // atsitiktinis papildomas suderinamumas 0–40
        return score;
      }

      otherUsers.forEach(friend => {
        const score = calculateFriendScore(user, friend);

        const block = document.createElement("div");
        block.className = "bg-white p-4 rounded shadow space-y-2";

        block.innerHTML = `
          <h2 class="text-xl font-bold">💬 ${friend.name}</h2>
          <p>🎂 Birthdate: ${friend.birthdate}</p>
          <p>💖 Love Language: ${friend.loveLanguage}</p>
          <p>🎯 Relationship Type: ${friend.relationshipType}</p>
          <p>🤝 Friendship Score: <strong>${score}%</strong></p>
          <button class="mt-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-1 rounded">View Profile</button>
        `;

        container.appendChild(block);
      });
    }
  </script>
</body>
</html>