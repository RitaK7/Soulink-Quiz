<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Soul Chart</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="generate-pdf.js"></script>
</head>
<body class="bg-gradient-to-br from-pink-50 to-purple-100 text-gray-800 font-sans">
  <main class="p-6 max-w-3xl mx-auto space-y-6">
    <h1 class="text-3xl font-bold text-center text-purple-700">🧭 Your Soul Chart</h1>

    <div class="flex justify-center">
      <img id="avatarPreview" src="default-avatar.png" alt="Avatar" class="w-24 h-24 rounded-full shadow mb-4" />
    </div>

    <div id="chartContainer" class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-xl font-semibold">💫 Zodiac Sign</h2>
        <p id="zodiac">Loading...</p>
      </div>

      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-xl font-semibold">🐉 Chinese Zodiac</h2>
        <p id="chineseZodiac">Loading...</p>
      </div>

      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-xl font-semibold">🔢 Life Path Number</h2>
        <p id="lifePath">Loading...</p>
      </div>

      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-xl font-semibold">💌 Love Language</h2>
        <p id="loveLanguage">Loading...</p>
      </div>

      <div class="bg-white p-4 rounded-lg shadow col-span-1 sm:col-span-2">
        <h2 class="text-xl font-semibold">✨ Soul Insight Summary</h2>
        <p id="soulSummary" class="whitespace-pre-line italic text-purple-700">Loading...</p>
      </div>
    </div>

    <div class="text-center">
      <button onclick="downloadSoulPDF()" class="mt-4 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition">
        🎁 Download Your Soul PDF
      </button>
    </div>
  </main>

  <script>
    document.getElementById("zodiac").textContent = localStorage.getItem("zodiac") || "Sagittarius";
    document.getElementById("chineseZodiac").textContent = localStorage.getItem("chineseZodiac") || "Rat";
    document.getElementById("lifePath").textContent = localStorage.getItem("lifePath") || "7";
    document.getElementById("loveLanguage").textContent = localStorage.getItem("loveLanguage") || "Acts of Service";
    document.getElementById("soulSummary").textContent = localStorage.getItem("longDescription") || "Your soul is a radiant force of intuition, love and light...";

    const avatar = document.getElementById("avatarPreview");
    const storedImg = localStorage.getItem("userProfileImage");
    if (storedImg) {
      avatar.src = storedImg;
    }
  </script>
</body>
</html>
